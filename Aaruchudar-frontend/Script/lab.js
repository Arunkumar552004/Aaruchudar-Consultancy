const labs = [
  {
    name: "Lab1 : CLARITY AS CULTURE",
    description: "This course focuses on empowering human intelligence in just 7 days.",
    Modules: [
      {
        why: "Misalignment is not just a communication issue—it's a thinking issue. Clarity is a behavioural norm, not just a tool.",
        what: "This lab builds a culture where clarity is not accidental but intentional. Teams learn to deconstruct vagueness and make direction a shared language.",
        how: [
          "Clarity Cards and “10 Whys” Layering",
          "Miscommunication Forensics",
          "Emotional Fog Clearing with the Clarity Grid"
        ],
        materials: [
          "Writable Wall Sheets",
          " Clarity Decision Trees",
          " “Vagueness Buster” Flashcards",
          "Clarity-as-Culture Manual (50+ Pages)"
        ],
        materialsDo:[
          "Break ambiguity into visible segments",
          "Offer visual anchoring in team dialogues",
          "Allow any group to ritualise clarity in decisionsand messaging"
        ],
        outcomes:[
           "Up to 38% reduction in ambiguity-related rework",
           "Internal culture audit scores rise within 6 weeks"
        ]
      }
    ],
    image: "images/lab1.jpg"
  },
  {
    name: "LAB 2: DECISION MAKING WITHOUT DRAMA",
    description: "This course focuses on empowering human intelligence in just 7 days.",
    Modules: [
      {
        why: "Every delayed decision costs emotion, trust and time. Most workplaces confuse debate with direction.",
        what: "This lab enables clean, aligned, courageous decision-making using cognitive maps, values grids, and tension-release models.",
        how: [
          "Trade-off Modelling with the Decision Ladder",
          "Regret Index Visualisation",
          "Ethical Edge Boards for Shared Judgement"
        ],
        materials: [
          " Regret Cost Worksheets",
          " Personal Value Maps",
          " Scenario Dice Kits"
        ],
        materialsDo:[
          "De-escalate ego-driven drama",
          " Provide logic–emotion integration in real-time",
          "Encourage team decisions that hold over time"
        ],
        outcomes:[
           " Decision-cycle speeds improve by 41% in startups",
           "Clearer cross-functional accountability post-lab"
        ]
      }
    ],
    image: "images/lab2.jpg"
  },
  {
    name: "LAB 3: INNER FOCUS IN NOISY WORLDS",
    description: "This course focuses on empowering human intelligence in just 7 days.",
    Modules: [
      {
        why: "Focus is the new currency. But cognitive fatigue is at an all-time high. This lab restores mental depth.",
        what: "Teaches how to create focused time, manage inner noise, and build psychological bandwidth.",
        how: [
          "Focus Flow Charts",
          "Cognitive Energy Design Templates",
          "Deep Work Habit Kits"
        ],
        materials: [
          " Environmental Distraction Maps",
          " Focus Ritual Logbooks",
          "Focus Restoration Exercises (Audio + Visual Set)"
        ],
        materialsDo:[
          "Help identify personal distraction cycles",
          "Establish deep focus time structures",
          "Rewire reward systems linked to attention"
        ],
        outcomes:[
           "2.8x increase in sustained task flow periods",
           "Emotional regulation improves across task blocks"
        ]
      }
    ],
    image: "images/lab3.jpg"
  },
  {
    name: "LAB 4: THE POWER OF LISTENING",
    description: "This course focuses on empowering human intelligence in just 7 days.",
    Modules: [
      {
        why: "Listening is a performance multiplier. Without it, feedback fails, collaboration breaks and trust erodes.",
        what: "The lab offers cognitive training in deep listening, reflective feedback and meaning-making via stories.",
        how: [
          "Interruptibility Drills",
          "Layered Listening Loops",
          "Meaning Capture Templates"
        ],
        materials: [
          "Mirror Reflection Grids",
          "Feedback Calibration Decks",
          " Group Dialogue Scorecards"
        ],
        materialsDo:[
          "Build muscle memory for silent processing",
          " Reduce miscommunication loops",
          "Train the ear to hear meaning, not just words"
        ],
        outcomes:[
           "Empathy scores rise by 55% on follow-up diagnostics",
           "Peer-to-peer misunderstandings drop visibly"
        ]
      }
    ],
    image: "images/lab4.jpg"
  },
  {
    name: "LAB 5: INTELLIGENT CONFLICT AND RECOVERY",
    description: "This course focuses on empowering human intelligence in just 7 days.",
    Modules: [
      {
        why: "Avoided conflict accumulates into emotional debt. This lab trains systems in recovery, not repression.",
        what: "Reframes conflict into cognitive tension. Creates a map for resolution that goes beyond HR compliance.",
        how: [
          "The Conflict Inventory",
          "Behavioural Escalation Maps",
          "Trust & Recovery Tracker"
        ],materials: [
          "Trigger Cards",
          "Resilience Ritual Kits",
          "Conflict Timeline Maps"
        ],
        materialsDo:[
          " Identify hidden sources of workplace emotional erosion",
          " Offer pathways to re-trust without role hierarchy"
        ],
        outcomes:[
           "61% drop in conflict mismanagement reports",
           "Recovery speed in teams doubles post-lab"
        ]
      }
    ],
    image: "images/lab5.jpg"
  },
  {
    name: "LAB 6: SYSTEMIC THINKING",
    description: "This course focuses on empowering human intelligence in just 7 days.",
    Modules: [
      {
        why: "Linear thinking creates temporary fixes. Systems thinking creates long term clarity.",
        what: "Teaches mapping, consequence design, and leverage identification across roles.",
        how: [
          "Feedback Loop Boards",
          "Stakeholder Webbing",
          "Delay Chain Visuals"
        ],
        materials: [
          "System Map Boards",
          " Change Ripple Diagrams",
          " Decision Horizon Templates"
        ],
        materialsDo:[
          " Expand problem-scoping skills",
          " Reveal invisible root causes",
          " Drive strategic cohesion across functions"
        ],
        outcomes:[
           " Strategic clarity improves by 49% within teams",
           "More accurate planning windows and foresight cycles"
        ]
      }
    ],
    image: "images/lab6.jpg"
  },
  {
    name: "LAB 7: VOICE, VALUE AND VULNERABILITY",
    description: "This course focuses on empowering human intelligence in just 7 days.",
    Modules: [
      {
        why: "Psychological safety is the foundation of all innovation. But it needs deliberate crafting.",
        what: "Creates a space for honest voice, self-worth recovery, and healthy dissent through identity-led design.",
        how: [
          "Courage Language Framework",
          "Inner Voice Reflectors",
          "Acceptance Archetype Mapping"
        ],
        materials: [
          "Voice Journals",
          " Vulnerability Circle Boards",
          " Authenticity Calibration Decks"
        ],
        materialsDo:[
          "Support self-expression in high-pressure spaces",
          " Reduce fear of judgement or cultural shutdowns"
        ],
        outcomes:[
           " 72% increase in self-expression indices",
           "Organic inclusion practices emerge post-lab"
        ]
        
      }
    ],
    image: "images/lab7.jpg"
  },
  {
    name: "LAB 8: LEADERSHIP WITHOUT IMITATION",
    description: "This course focuses on empowering human intelligence in just 7 days.",
    Modules: [
      {
        why: "Real leadership doesn’t copy—it clarifies. We build leaders who don’t echo others.",
        what: "Brings out personal leadership architecture rooted in clarity, not charisma.",
        how: [
          "Legacy Path Builders",
          "Influence Map Sheets",
          "Identity-to-Action Frameworks"
        ],
        materials: [
          "Originality Scorecards",
          " Leader Story Grids",
          " Influence Vortex Visual Boards"
        ],
        materialsDo:[
          " Reveal unconscious imitation traps",
          " Create deeply aligned leader templates",
          " Refine communication without gimmickry"
        ],
        outcomes:[
           " Leadership clarity scores rise by 58%",
           "Founders and senior staff report improved influence resilience"
        ]
      }
    ],
    image: "images/lab8.jpg"
  }
];

const labContainer = document.getElementById("labContainer");
const labDetail = document.getElementById("labDetail");
const labTitle = document.getElementById("labTitle");
const labDesc = document.getElementById("labDesc");
const why = document.getElementById("why");
const what = document.getElementById("what");
const howList = document.getElementById("how");
const materialList  = document.getElementById("materials");
const materialsDoList= document.getElementById("materialsDo");
const outcomesList =document.getElementById("outcomes");

labs.forEach((lab, index) => {
  const card = document.createElement("div");
  card.className = "card";

  const image = document.createElement("img");
  image.src = lab.image;
  image.onerror = () => {
    image.src = "https://via.placeholder.com/250x150?text=No+Image";
  };
  card.appendChild(image);

  const cardBody = document.createElement("div");
  cardBody.className = "card-body";

  cardBody.innerHTML = `
    <div class="card-title">Lab</div>
    <div class="card-text">${lab.name}</div>
    <div class="button-group">
      <button class="view-course-btn" onclick="showLab(${index})">View Lab</button>
    </div>`;

  card.appendChild(cardBody);
  labContainer.appendChild(card);
});

function showLab(index) {
  const lab = labs[index];
  const module = lab.Modules?.[0] || {}; // Safely handle if Modules is empty
  labTitle.textContent = lab.name;
  labDesc.textContent = lab.description || "";
  why.textContent = module.why || "";
  what.textContent = module.what || "";
  howList.innerHTML =  "";
  materialList.innerHTML= "";
  materialsDoList.innerHTML="";
  outcomesList.innerHTML="";

  if (Array.isArray(module.how)) {
    module.how.forEach((item) => {
      const moduleCard = document.createElement("div");
      moduleCard.className = "module-card";
      moduleCard.innerHTML = `<p>• ${item}</p>`;
      howList.appendChild(moduleCard);
    });
  }

    if (Array.isArray(module.materials)) {
    module.materials.forEach((item) => {
      const moduleCard = document.createElement("div");
      moduleCard.className = "module-card";
      moduleCard.innerHTML = `<p>• ${item}</p>`;
      materialList.appendChild(moduleCard);
    });
  }

  if (Array.isArray(module.materialsDo)) {
    module.materialsDo.forEach((item) => {
      const moduleCard = document.createElement("div");
      moduleCard.className = "module-card";
      moduleCard.innerHTML = `<p>• ${item}</p>`;
     materialsDoList.appendChild(moduleCard);
    });
  }

  if (Array.isArray(module.outcomes)) {
    module.outcomes.forEach((item) => {
      const moduleCard = document.createElement("div");
      moduleCard.className = "module-card";
      moduleCard.innerHTML = `<p>• ${item}</p>`;
      outcomesList.appendChild(moduleCard);
    });
  }

  labContainer.classList.add("hidden");
  labDetail.classList.remove("hidden");
}

function backToLabList() {
  labDetail.classList.add("hidden");
  labContainer.classList.remove("hidden");
}

window.addEventListener("DOMContentLoaded", () => {
  const urlParams = new URLSearchParams(window.location.search);
  const labName = urlParams.get("labName");
  if (labName) {
    const index = labs.findIndex((lab) => lab.name === labName);
    if (index !== -1) {
      showLab(index);
    }
  }
});
